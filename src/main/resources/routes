# Routes
# This file defines all application routes (Higher priority routes first)
# ~~~~

# Pinged by load balancer to determine if instance is healthy
GET      /healthcheck                                         controllers.AppController.healthcheck

# Ophan has no test environment available, only prod, therefore we are using this endpoint to receive the acquisition data and compare manually.
# The logs are picked up by cloudWatch so the information can be easily accessible.
GET      /acquisition/a.gif                                   controllers.AppController.acquisition(viewId: String, acquisition: String)

#############################################
# STRIPE
#############################################

# Execute a pre-authorised Stripe payment
POST     /contribute/one-off/stripe/execute-payment           controllers.StripeController.executePayment
OPTIONS  /contribute/one-off/stripe/execute-payment           controllers.AppController.corsOptions

# This endpoint is called by Stripe via a webhook to notify us of refunds
POST     /contribute/one-off/stripe/refund                    controllers.StripeController.processRefund

#############################################
# PAYPAL
#############################################

# Create a payment which can then be authorised via the PayPal web interface
POST     /contribute/one-off/paypal/create-payment            controllers.PaypalController.createPayment
OPTIONS  /contribute/one-off/paypal/create-payment            controllers.AppController.corsOptions

# Execute a payment created with /contribute/one-off/paypal/create-payment
# and authorised via the PayPal web interface
POST     /contribute/one-off/paypal/execute-payment           controllers.PaypalController.executePayment
OPTIONS  /contribute/one-off/paypal/execute-payment           controllers.AppController.corsOptions

# Captures the funds from a payment which has been created & authorised directly via
# the PayPal API (not via /contribute/one-off/paypal/create-payment in this API).
# This is only used by the mobile app.
POST     /contribute/one-off/paypal/capture-payment           controllers.PaypalController.capturePayment

# This endpoint is called by PayPal via a webhook to notify us of refunds
POST     /contribute/one-off/paypal/refund                    controllers.PaypalController.processRefund
