stacks: [support]
regions: [eu-west-1]
deployments:
  cfn:
    type: cloud-formation
    app: workers
    parameters:
      templatePath: cfn.yaml
  monthly-contributions:
    type: aws-lambda
    parameters:
      bucket: support-workers-dist
      functionNames:
        - "-CreatePaymentMethodLambda-"
        - "-CreateSalesforceContactLambda-"
        - "-CreateZuoraSubscriptionLambda-"
        - "-SendThankYouEmailLambda-"
        - "-UpdateMembersDataAPILambda-"
        - "-FailureHandlerLambda-"
        - "-ContributionCompletedLambda-"
        - "-SendAcquisitionEventLambda-"
      fileName: monthly-contributions.jar
    dependencies: [cfn]
